# Claude Code UI Environment Configuration
# Only includes variables that are actually used in the code
#
# TIP: Run 'cloudcli status' to see where this file should be located
#      and to view your current configuration.
#
# Available CLI commands:
#   claude-code-ui    - Start the server (default)
#   cloudcli start    - Start the server
#   cloudcli status   - Show configuration and data locations
#   cloudcli help     - Show help information
#   cloudcli version  - Show version information

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Backend server port (Express API + WebSocket server)
#API server
PORT=3001
#Frontend port
VITE_PORT=5173

# Uncomment the following line if you have a custom claude cli path other than the default "claude"
# CLAUDE_CLI_PATH=claude

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Path to the authentication database file
# This is where user credentials, API keys, and tokens are stored.
#
# To use a custom location:
# DATABASE_PATH=/path/to/your/custom/auth.db
#
# Claude Code context window size (maximum tokens per session)
VITE_CONTEXT_WINDOW=160000
CONTEXT_WINDOW=160000

# VITE_IS_PLATFORM=false

# =============================================================================
# JANUA OAUTH2 CONFIGURATION (Enterprise SSO)
# =============================================================================

# Janua SSO authentication URL
# Production: https://auth.madfam.io
# Development: http://localhost:8080
JANUA_URL=https://auth.madfam.io

# OAuth2 Client credentials (obtained from Janua admin)
# Production client for agents.madfam.io
JANUA_CLIENT_ID=jnc_lSGMbQtCGdHSctd4mEQoaklLBCv7xXhe
JANUA_CLIENT_SECRET=jns_3SRnFv5IF32bM3fkHH5bFQ3su9LlLJB3zqlvKbwIVdnqJ5paKc4u7DfMhg10ZTsc

# OAuth2 redirect URI (must match registered redirect URI in Janua)
# Production: https://agents.madfam.io/auth/callback
# Development: http://localhost:3001/auth/callback
JANUA_REDIRECT_URI=https://agents.madfam.io/auth/callback

# =============================================================================
# KUBERNETES CONFIGURATION (Agent Discovery)
# =============================================================================

# Kubernetes namespace where Auto-Claude agents are deployed
KUBERNETES_NAMESPACE=madfam-automation

# Set to true when running inside Kubernetes cluster
# Set to false for local development with kubeconfig
IN_CLUSTER=true

# =============================================================================
# REDIS CONFIGURATION (Task Queues & Agent State)
# =============================================================================

# Redis connection URL for task queues and agent coordination
# Production: redis://auto-claude-redis.madfam-automation.svc.cluster.local:6379
# Development: redis://localhost:6379
REDIS_URL=redis://auto-claude-redis.madfam-automation.svc.cluster.local:6379

# =============================================================================
# AUTO-CLAUDE AGENT CONFIGURATION
# =============================================================================

# Auto-Claude Agent API URL (optional, for direct API calls)
# Typically accessed through Janua Auth Proxy at agents-api.madfam.io
AGENT_API_URL=http://auto-claude-agent.madfam-automation.svc.cluster.local:8080

# =============================================================================
# NOTES
# =============================================================================
#
# OAuth2 Configuration:
# - Leave JANUA_CLIENT_ID empty to use simple auth (username/password)
# - Set JANUA_CLIENT_ID and JANUA_CLIENT_SECRET to enable OAuth2
#
# Local Development:
# - Set IN_CLUSTER=false
# - Point REDIS_URL to local Redis instance
# - Use `kubectl port-forward` to access cluster resources
#
# Production Deployment:
# - Set IN_CLUSTER=true
# - Use cluster-internal service DNS names
# - Ensure OAuth2 redirect URI matches actual domain
#
